---
import type { Hotel } from '../types/types';
import HotelCarousel from './HotelCarousel.astro';

export interface LocationData {
  id: string;
  name: string;
  description: string;
  categories: {
    id: string;
    name: string;
    hotels: Hotel[];
  }[];
}

export interface Props {
  location: LocationData;
  heroImage?: string;
}

const { 
  location,
  heroImage = "https://images.unsplash.com/photo-1551882547-ff40c63fe5fa?q=80&w=2070&auto=format&fit=crop" 
} = Astro.props;
---

<div>
  <!-- Hero Section -->
  <section class="relative bg-gradient-to-r from-blue-900 to-indigo-800 py-20 md:py-32">
    <div class="absolute inset-0 bg-black opacity-40">
      {heroImage && (
        <img src={heroImage} alt={location.name} class="w-full h-full object-cover" />
      )}
    </div>
    <div class="relative mx-auto px-4">
      <div class="max-w-3xl mx-auto text-center text-white">
        <h1 class="text-4xl md:text-5xl font-bold mb-6">{location.name} Hotels</h1>
        <p class="text-xl md:text-2xl mb-8">Find your perfect place to stay in {location.name}</p>
      </div>
    </div>
  </section>

  <!-- Introduction -->
  <section class="py-12 bg-white">
    <div class="mx-auto px-4">
      <div class="max-w-4xl mx-auto">
        <p class="text-lg text-gray-700 mb-6">
          {location.description}
        </p>
      </div>
    </div>
  </section>

  <!-- Hotel Categories Sections -->
  {location.categories.map((category) => (
    <section class="py-16 border-t border-gray-100">
      <div class="mx-auto px-4">
        <div class="mb-12">
          <h2 class="text-3xl font-bold text-gray-900 mb-4">{category.name}</h2>
        </div>

        <HotelCarousel 
          title={category.name} 
          hotels={category.hotels} 
          sectionId={`${location.id}-${category.id}`} 
        />
      </div>
    </section>
  ))}

  <!-- Tips Section -->
  <section class="py-16 bg-gray-50 border-t border-gray-200">
    <div class="mx-auto px-4">
      <div class="max-w-4xl mx-auto">
        <h2 class="text-3xl font-bold text-gray-900 mb-8">Tips for Staying in {location.name}</h2>
        
        <div class="space-y-6">
          <div class="bg-white p-6 rounded-lg shadow-sm">
            <h3 class="text-xl font-semibold text-gray-900 mb-3">Local Highlights</h3>
            <p class="text-gray-700">
              <slot name="local-highlights">
                Discover the best local attractions, dining options, and hidden gems in the {location.name} area.
              </slot>
            </p>
          </div>
          
          <div class="bg-white p-6 rounded-lg shadow-sm">
            <h3 class="text-xl font-semibold text-gray-900 mb-3">Transportation</h3>
            <p class="text-gray-700">
              <slot name="transportation">
                Find out how to get around {location.name} and access the rest of Brisbane from this location.
              </slot>
            </p>
          </div>
          
          <div class="bg-white p-6 rounded-lg shadow-sm">
            <h3 class="text-xl font-semibold text-gray-900 mb-3">Best For</h3>
            <p class="text-gray-700">
              <slot name="best-for">
                Learn who would benefit most from staying in the {location.name} area.
              </slot>
            </p>
          </div>
        </div>
      </div>
    </div>
  </section>
</div> 